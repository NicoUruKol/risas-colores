.stage {
    position: absolute;
    inset: 0;
    overflow: hidden;
}

/* Burbuja */
.bubble {
    position: absolute;
    border-radius: 999px;
    opacity: 0.88;

    box-shadow:
        inset 0 0 0 2px rgba(255,255,255,0.55),
        inset 0 0 0 6px var(--ring),
        0 12px 40px rgba(0,0,0,0.10),
        0 0 34px rgba(255,255,255,0.45);

    background:
        radial-gradient(circle at 30% 28%, rgba(255,255,255,0.95), rgba(255,255,255,0) 28%),
        radial-gradient(circle at 36% 34%, rgba(255,255,255,0.35), rgba(255,255,255,0) 55%),
        radial-gradient(circle at 55% 62%, var(--fill), rgba(255,255,255,0) 72%);

    backdrop-filter: blur(2px);
    -webkit-backdrop-filter: blur(2px);

    transform: translate3d(0,0,0);
    will-change: transform;

  /* ✅ ahora sí: el tempo global manda */
    animation-duration: var(--bgTempo);
    animation-timing-function: var(--bgEase);
    animation-iteration-count: infinite;
    animation-direction: alternate;
}

/* Colores: aro más fuerte, interior suave */
.orange { --ring: rgba(246, 166, 90, 0.70); --fill: rgba(246, 166, 90, 0.20); }
.violet { --ring: rgba(200, 182, 226, 0.70); --fill: rgba(200, 182, 226, 0.18); }

/* ✅ Azul un poco más fuerte para que no desaparezca */
.blue   { --ring: rgba(74, 144, 194, 0.75); --fill: rgba(74, 144, 194, 0.22); }

/* Tamaños variados (un poco más chicos que antes y más variados) */
.o1 { width: 18vmin; height: 18vmin; }
.v1 { width: 14vmin; height: 14vmin; }
.b1 { width: 20vmin; height: 20vmin; }

.o2 { width: 12vmin; height: 12vmin; }
.v2 { width: 18vmin; height: 18vmin; }
.b2 { width: 14vmin; height: 14vmin; }

.o3 { width: 20vmin; height: 20vmin; }
.v3 { width: 12vmin; height: 12vmin; }
.b3 { width: 16vmin; height: 16vmin; }

.o4 { width: 14vmin; height: 14vmin; }
.v4 { width: 20vmin; height: 20vmin; }
.b4 { width: 16vmin; height: 16vmin; }

/* ✅ Reparto más parejo en el alto (0..170vmin aprox)
- también balanceo izq/der/centro
- y meto delays negativos para que no arranquen sincronizadas
*/
.o1 { left: -7vmin;  top: 10vmin;   animation-name: floatA; animation-delay: calc(var(--bgTempo) * -0.12); }
.v1 { right: -8vmin; top: 22vmin;   animation-name: floatB; animation-delay: calc(var(--bgTempo) * -0.28); }
.b1 { left: 52%;     top: 34vmin;   animation-name: floatC; animation-delay: calc(var(--bgTempo) * -0.44); transform: translate3d(-50%,0,0); }

.o2 { left: 8vmin;   top: 58vmin;   animation-name: floatB; animation-delay: calc(var(--bgTempo) * -0.18); }
.v2 { right: 6vmin;  top: 76vmin;   animation-name: floatA; animation-delay: calc(var(--bgTempo) * -0.52); }
.b2 { left: -8vmin;  top: 96vmin;   animation-name: floatC; animation-delay: calc(var(--bgTempo) * -0.33); }

.o3 { right: -9vmin; top: 118vmin;  animation-name: floatC; animation-delay: calc(var(--bgTempo) * -0.64); }
.v3 { left: 10vmin;  top: 142vmin;  animation-name: floatA; animation-delay: calc(var(--bgTempo) * -0.40); }
.b3 { left: 60%;     top: 168vmin;  animation-name: floatB; animation-delay: calc(var(--bgTempo) * -0.70); transform: translate3d(-50%,0,0); }

.o4 { left: 12vmin;  top: 185vmin;  animation: floatB 15s ease-in-out infinite alternate;}
.v4 { right: 10vmin; top: 195vmin;  animation: floatA 16s ease-in-out infinite alternate;}
.b4 { left: 50%;     top: 210vmin;  transform: translateX(-50%); animation: floatC 17s ease-in-out infinite alternate;}

/* ✅ Movimiento más marcado pero suave y “burbuja”
(más desplazamiento vertical, un poco de drift lateral)
*/
@keyframes floatA {
    0%   { transform: translate3d(0,0,0) rotate(-8deg) scale(1); }
    100% { transform: translate3d(10vmin, 20vmin, 0) rotate(10deg) scale(1.08); }
}
@keyframes floatB {
    0%   { transform: translate3d(0,0,0) rotate(6deg) scale(1); }
    100% { transform: translate3d(-12vmin, 22vmin, 0) rotate(-12deg) scale(1.10); }
}
@keyframes floatC {
    0%   { transform: translate3d(0,0,0) rotate(0deg) scale(1); }
    100% { transform: translate3d(8vmin, 18vmin, 0) rotate(8deg) scale(1.06); }
}

/* Accesibilidad */
@media (prefers-reduced-motion: reduce) {
    .bubble { animation: none !important; }
}
